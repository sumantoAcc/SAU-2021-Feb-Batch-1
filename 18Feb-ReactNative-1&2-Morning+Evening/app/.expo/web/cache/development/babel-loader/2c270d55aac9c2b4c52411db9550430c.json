{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/sumanto/Videos/SAU-2021-Feb-Batch-1/18Feb-ReactNative-1&2-Morning+Evening/app/src/components/Dashboard.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport NewsCard from \"./NewsCard\";\nimport NewsDesc from \"./NewsDesc\";\nvar LOCAL_STORAGE_KEY = 'Assignment.todos';\nexport default function Dashboard(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  useEffect(function () {\n    var unsubscribe = props.navigation.addListener('focus', function () {\n      console.log('Refreshed!');\n      var storedTodos = [];\n      if (localStorage.getItem(LOCAL_STORAGE_KEY + localStorage.getItem(\"username\"))) storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY + localStorage.getItem(\"username\")));\n      if (storedTodos) setItems(storedTodos);\n    });\n    return unsubscribe;\n  }, [props.navigation]);\n\n  var deleteItem = function deleteItem(title) {\n    var temp;\n    return _regeneratorRuntime.async(function deleteItem$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            temp = items.filter(function (item) {\n              return item.title != title;\n            });\n            console.log(temp);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(LOCAL_STORAGE_KEY + localStorage.getItem(\"username\"), JSON.stringify(temp)));\n\n          case 4:\n            renderArticles();\n            setItems(temp);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var renderArticles = function renderArticles() {\n    var articles = items;\n\n    if (articles.length > 0) {\n      return React.createElement(FlatList, {\n        data: articles,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(NewsCard, {\n            data: item,\n            deleteItem: deleteItem,\n            navigation: props.navigation,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 43\n            }\n          });\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.publishedAt;\n        },\n        initialNumToRender: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }\n      });\n    }\n\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, \" No Notes Added \"));\n  };\n\n  var jump = function jump() {\n    props.navigation.navigate(\"NewsDesc\");\n  };\n\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: Styles.innerContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    style: Styles.xxx,\n    title: \"Add note\",\n    onPress: jump,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  })), React.createElement(SafeAreaView, {\n    style: Styles.mainContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, renderArticles()));\n}\nvar Styles = StyleSheet.create({\n  mainContainer: {\n    marginTop: Platform.OS === 'android' ? 25 : 0\n  },\n  container: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    alignSelf: 'flex-end',\n    marginTop: -5,\n    justifyContent: 'flex-end',\n    position: 'absolute'\n  }),\n  buttonStyle: {\n    width: \"30%\"\n  },\n  innerContainer: {\n    width: \"100%\",\n    flexDirection: \"row-reverse\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    alignSelf: 'flex-end'\n  }\n});","map":{"version":3,"sources":["/home/sumanto/Videos/SAU-2021-Feb-Batch-1/18Feb-ReactNative-1&2-Morning+Evening/app/src/components/Dashboard.js"],"names":["React","useEffect","useState","AsyncStorage","NewsCard","NewsDesc","LOCAL_STORAGE_KEY","Dashboard","props","items","setItems","unsubscribe","navigation","addListener","console","log","storedTodos","localStorage","getItem","JSON","parse","deleteItem","title","temp","filter","item","setItem","stringify","renderArticles","articles","length","publishedAt","flex","justifyContent","alignItems","jump","navigate","Styles","innerContainer","xxx","mainContainer","StyleSheet","create","marginTop","Platform","OS","container","absoluteFillObject","alignSelf","position","buttonStyle","width","flexDirection"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { Image, Button, View, Text, SafeAreaView, Platform, StyleSheet, FlatList } from 'react-native';\n\nimport NewsCard from \"./NewsCard\";\nimport NewsDesc from \"./NewsDesc\";\nconst LOCAL_STORAGE_KEY = 'Assignment.todos';\n\nexport default function Dashboard(props) {\n    //console.log(\"dashboard props\", props); \n\n    const [items, setItems] = useState([]);\n    useEffect(() => {\n        const unsubscribe = props.navigation.addListener('focus', () => {\n            console.log('Refreshed!');\n            let storedTodos = [];\n            if (localStorage.getItem(LOCAL_STORAGE_KEY+localStorage.getItem(\"username\")))\n                storedTodos = JSON.parse(\n                    localStorage.getItem(LOCAL_STORAGE_KEY+localStorage.getItem(\"username\"))\n                );\n            if (storedTodos)\n                setItems(storedTodos);\n        });\n        return unsubscribe;\n    }, [props.navigation]);\n    const deleteItem = async (title) => {\n        const temp = items.filter(item => item.title != title);\n        console.log(temp);\n        await AsyncStorage.setItem(LOCAL_STORAGE_KEY+localStorage.getItem(\"username\"), JSON.stringify(temp));\n        renderArticles();\n        setItems(temp);\n\n    }\n    const renderArticles = () => {\n        const articles = items;\n        if (articles.length > 0) {\n            return (<FlatList\n                data={articles}\n                renderItem={({ item }) => <NewsCard data={item} deleteItem={deleteItem} navigation={props.navigation} />}\n                keyExtractor={(item) => item.publishedAt}\n                initialNumToRender={5}\n            />)\n        }\n        return (\n            <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n                <Text> No Notes Added </Text>\n            </View>\n        );\n\n    }\n    const jump = () => {\n        props.navigation.navigate(\"NewsDesc\");\n    }\n\n    return (\n        <View>\n            <View style={Styles.innerContainer}>\n            <Button style={Styles.xxx} title=\"Add note\" onPress={jump} />\n            </View>\n            <SafeAreaView style={Styles.mainContainer}>\n                {renderArticles()}\n            </SafeAreaView>\n        </View>\n    );\n}\n\n\nconst Styles = StyleSheet.create({\n    mainContainer: {\n        marginTop: Platform.OS === 'android' ? 25 : 0\n    },\n    container: {\n        ...StyleSheet.absoluteFillObject,\n        alignSelf: 'flex-end',\n        marginTop: -5,\n        justifyContent: 'flex-end',\n        position: 'absolute', // add if dont work with above\n    },\n    buttonStyle:{  \n        width: \"30%\"\n    }  ,\n    innerContainer:{  \n        // flex: 1,  \n         width: \"100%\",  \n         flexDirection: \"row-reverse\",  \n         justifyContent: \"space-between\",  \n         alignItems: \"center\"  ,\n         alignSelf: 'flex-end',\n     }, \n})\n// {\n//     id: Math.floor((Math.random() * 1000)).toString(),\n//     text: 'Milk'\n// },\n// {\n//     id: Math.floor((Math.random() * 1000)).toString(),\n//     text: 'Chocolate'\n// },\n// {\n//     id: Math.floor((Math.random() * 1000)).toString(),\n//     text: 'Tissue Paper'\n// },\n// {\n//     id: Math.floor((Math.random() * 1000)).toString(),\n//     text: 'Toothbrush'\n// },\n// const fetchData = async () => {\n//     const URL = \"http://newsapi.org/v2/everything?q=tesla&from=2021-01-23&sortBy=publishedAt&apiKey=9a6dd9ea60ab4b0cacb7c9a5e6432192\";\n//     const response = await fetch(URL);\n//     const data = await response.json();\n//     setArticles(data.articles);\n// }\n"]},"metadata":{},"sourceType":"module"}